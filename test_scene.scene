# Scene root - all entities parent to this
SceneRoot<0> {
    TransformComponent([1,0,0,0, 0,1,0,0, 0,0,1,0, 0,0,0,1]),
    ScriptComponent("(+ 5 (* 2 3))")
}

# Player at origin with no movement
Player<1> pid<0> {
    TransformComponent([1,0,0,0, 0,1,0,0, 0,0,1,0, 0,0,0,1]),
    VelocityComponent([0,0,0,0]),
    ResourceComponent(100),
    TagComponent(1, 0, true, true),
    NameComponent("Player"),
    AABBComponent([-0.5,-1,-0.5, 0.5,1,0.5]),
    NetworkComponent(1),
    LifetimeComponent(10.0, false),
    PlayerInputComponent(),
    ScriptComponent("(let ((wPressed (input-pressed? 1 entity-id))) (let ((velX (get-prop VelocityComponent velocity.x entity-id))) (set-prop VelocityComponent velocity.x entity-id (+ velX (* delta-time 1.0)))))")
}

# Weapon attached to player (transforms relative to Player) - translate (1,0,0), scale 0.5
PlayerWeapon<2> pid<1> {
    TransformComponent([0.5,0,0,1, 0,0.5,0,0, 0,0,0.5,0, 0,0,0,1]),
    ResourceComponent(101),
    TagComponent(4, 1, true, true),
    NameComponent("PlayerWeapon"),
    NetworkComponent(1),
    LifetimeComponent(5.0, true),
}

# Enemy instance 1 - references enemy_character subscene - translate (10,0,5)
Enemy1<10> pid<0> {
    TransformComponent([1,0,0,10, 0,1,0,0, 0,0,1,5, 0,0,0,1]),
    VelocityComponent([-1,0,0,0]),
    SceneReferenceComponent(1001, false, 0),
    TagComponent(2, 0, true, true),
    NameComponent("Enemy1"),
    AABBComponent([-0.5,-1,-0.5, 0.5,1,0.5]),
    NetworkComponent(0),
    LifetimeComponent(15.0, false),
    ScriptComponent("(let ((minX (get-prop AABBComponent minX entity-id)) (maxX (get-prop AABBComponent maxX entity-id))) (- maxX minX))")
}

# Enemy instance 2 - references enemy_character subscene - translate (-5,0,10)
Enemy2<20> pid<0> {
    TransformComponent([1,0,0,-5, 0,1,0,0, 0,0,1,10, 0,0,0,1]),
    VelocityComponent([0.5,0,-0.5,0]),
    SceneReferenceComponent(1001, false, 0),
    TagComponent(2, 1, false, true),
    AABBComponent([-1,-1,-1, 1,1,1]),
    NetworkComponent(0),
    LifetimeComponent(20.0, true),
    ScriptComponent("(set-prop AABBComponent minX entity-id -2.0) (set-prop AABBComponent maxX entity-id 2.0)")
}

# Static obstacle - translate (0,0,15), scale 2
Obstacle1<100> pid<0> {
    TransformComponent([2,0,0,0, 0,2,0,0, 0,0,2,15, 0,0,0,1]),
    ResourceComponent(103),
    TagComponent(8, 0, true, true),
    NameComponent("Obstacle1"),
    AABBComponent([-2,-2,-2, 2,2,2]),
    NetworkComponent(0),
    LifetimeComponent(30.0, false),
    ScriptComponent("(let ((ttl (get-prop LifetimeComponent timeToLive entity-id))) (set-prop LifetimeComponent timeToLive entity-id (- ttl 5.0)))")
}

# Another player - translate (5,0,-5)
Player2<200> pid<0> {
    TransformComponent([1,0,0,5, 0,1,0,0, 0,0,1,-5, 0,0,0,1]),
    VelocityComponent([1,0,0,0]),
    TagComponent(1, 2, true, false),
    AABBComponent([-0.5,-1,-0.5, 0.5,1,0.5]),
    NetworkComponent(2),
    LifetimeComponent(8.0, false),
}

# Player2's backpack (child) - translate (0,0.5,-0.3), scale 0.8
Player2_Backpack<201> pid<200> {
    TransformComponent([0.8,0,0,0, 0,0.8,0,0.5, 0,0,0.8,-0.3, 0,0,0,1]),
    TagComponent(16, 2, true, true),
    ResourceComponent(105),
    NetworkComponent(2),
    LifetimeComponent(12.0, false),
}

